<!doctype html>
<html>
    <head>
        <!-- <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /> -->
        <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

        <script>
            AFRAME.registerComponent("range_test",{
                init: function(){
                    var scene = document.querySelector("a-scene");
                    scene.addEventListener("markerFound",function(){
                        document.querySelector("#top").setAttribute("value", "found");
                    })
                    scene.addEventListener("markerLost", function(){
                        document.querySelector("#top").setAttribute("value", "lost");
                    })
                }
            })
        </script>
        
    </head>
    <!-- https://jeromeetienne.github.io/AR.js/aframe/build/ -->
    <body>
        <a-scene range_test
        embedded
        arjs="trackingMethod: best; sourceType: webcam; 
        patternRatio: 0.75; maxDetectionRate: 60; detectionMode: mono;
        debugUIEnabled: false;
        sourceWidth: 1920; sourceHeight: 1080; displayWidth: 1920; displayHeight: 1080;"
        renderer="antialias: true; alpha: true; precision: medium;"
        vr-mode-ui="enabled: false;"
        >
        
            <a-marker preset="hiro" emitevents="true" smoothCount=0 smoothTolerance=0.0001>
                <a-box color="yellow" position="0 0 0"></a-box>
            </a-marker>
            <a-camera>
                <a-text id = "top" value = "hello" position="0 0 -1" scale = "0.2 0.2 0.2"></a-text>
            </a-camera>

        </a-scene>
    </body>